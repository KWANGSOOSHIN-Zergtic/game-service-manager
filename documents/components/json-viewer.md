# **ğŸ“Œ PM PRD - JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸ (JSON Viewer)**

## **1. ê°œìš”**
JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸ëŠ” ë³µì¡í•œ JSON ë°ì´í„° êµ¬ì¡°ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•˜ê³ , ì‚¬ìš©ìê°€ ì‰½ê²Œ íƒìƒ‰í•˜ê³  ì´í•´í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” UI ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. API ì‘ë‹µ ë°ì´í„°, ì„¤ì • íŒŒì¼, ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ê²°ê³¼ ë“±ê³¼ ê°™ì€ êµ¬ì¡°í™”ëœ JSON ë°ì´í„°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œì‹œí•˜ë©°, í•„ìš”ì— ë”°ë¼ í™•ì¥/ì¶•ì†Œí•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì£¼ë¡œ ê°œë°œì ë„êµ¬, ë””ë²„ê¹… í™”ë©´, ë°ì´í„° íƒìƒ‰ê¸° ë“±ì—ì„œ í™œìš©ë©ë‹ˆë‹¤.

## **2. ì£¼ìš” ëª©í‘œ**
- ë³µì¡í•œ JSON êµ¬ì¡°ë¥¼ ì§ê´€ì ì´ê³  ê°€ë…ì„± ë†’ê²Œ ì‹œê°í™”
- ì¤‘ì²©ëœ ë°ì´í„°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œí˜„í•˜ì—¬ ë°ì´í„° êµ¬ì¡° ì´í•´ë„ í–¥ìƒ
- ëŒ€ìš©ëŸ‰ JSON ë°ì´í„°ë„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì„±ëŠ¥ ì €í•˜ ë°©ì§€
- ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì‰½ê²Œ íƒìƒ‰í•˜ê³  íŠ¹ì • ê°’ì„ ì°¾ì„ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ ì œê³µ
- ë°ì´í„° íƒ€ì…ë³„ ì‹œê°ì  êµ¬ë¶„ìœ¼ë¡œ ë°ì´í„° ì˜ë¯¸ íŒŒì•… ìš©ì´ì„± ì œê³µ

## **3. ì£¼ìš” ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**
| ê¸°ëŠ¥ | ìš°ì„ ìˆœìœ„ | ì„¤ëª… |
|------|---------|------|
| íŠ¸ë¦¬ êµ¬ì¡° í‘œì‹œ | ìƒ | JSON ë°ì´í„°ë¥¼ ê³„ì¸µì  íŠ¸ë¦¬ êµ¬ì¡°ë¡œ í‘œì‹œ |
| í™•ì¥/ì¶•ì†Œ | ìƒ | ë…¸ë“œ ìˆ˜ì¤€ì—ì„œ ë°ì´í„° í™•ì¥ ë° ì¶•ì†Œ ê¸°ëŠ¥ |
| ë°ì´í„° íƒ€ì… ì‹œê°í™” | ìƒ | ë¬¸ìì—´, ìˆ«ì, ë¶ˆë¦¬ì–¸, ë°°ì—´, ê°ì²´ ë“± ë°ì´í„° íƒ€ì…ë³„ êµ¬ë¶„ í‘œì‹œ |
| ë³µì‚¬ ê¸°ëŠ¥ | ì¤‘ | íŠ¹ì • ë…¸ë“œ ë˜ëŠ” ì „ì²´ JSON ë°ì´í„°ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬ |
| ê²€ìƒ‰ ê¸°ëŠ¥ | ì¤‘ | í‚¤ ë˜ëŠ” ê°’ìœ¼ë¡œ JSON ë°ì´í„° ë‚´ ê²€ìƒ‰ |
| ê²½ë¡œ í‘œì‹œ | ì¤‘ | í˜„ì¬ ì„ íƒëœ ë…¸ë“œì˜ ê²½ë¡œ í‘œì‹œ |
| í•„í„°ë§ | í•˜ | íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ë…¸ë“œë§Œ í‘œì‹œ |
| ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ | í•˜ | ì‚¬ìš©ì ì„ í˜¸ì— ë”°ë¥¸ í…Œë§ˆ ë³€ê²½ ì§€ì› |

## **4. ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤**
1. **API ì‘ë‹µ ë°ì´í„° ê²€ì‚¬**: ê°œë°œìê°€ API ì‘ë‹µì„ ì‹œê°ì ìœ¼ë¡œ ê²€ì‚¬í•˜ê³  íŠ¹ì • í•„ë“œ ê°’ í™•ì¸
2. **ì„¤ì • íŒŒì¼ íƒìƒ‰**: ì‹œìŠ¤í…œ ê´€ë¦¬ìê°€ ë³µì¡í•œ ì„¤ì • JSON íŒŒì¼ì˜ êµ¬ì¡°ë¥¼ íƒìƒ‰í•˜ê³  íŠ¹ì • ì„¤ì • í™•ì¸
3. **ë°ì´í„° ë””ë²„ê¹…**: ê°œë°œìê°€ ì˜¤ë¥˜ ë°œìƒ ì‹œ JSON í˜•íƒœì˜ ìƒíƒœ ë°ì´í„°ë¥¼ ê²€ì‚¬í•˜ì—¬ ë¬¸ì œ ì›ì¸ íŒŒì•…
4. **ë°ì´í„° ë¶„ì„**: ë°ì´í„° ë¶„ì„ê°€ê°€ ëŒ€ëŸ‰ì˜ JSON ë°ì´í„°ë¥¼ íƒìƒ‰í•˜ì—¬ ì¤‘ìš”í•œ ì¸ì‚¬ì´íŠ¸ ë°œê²¬
5. **ëŒ€ì‹œë³´ë“œ ë°ì´í„° ì‹œê°í™”**: ëŒ€ì‹œë³´ë“œì—ì„œ ì‚¬ìš©ìê°€ ìƒì„±ëœ ë¦¬í¬íŠ¸ ë°ì´í„° êµ¬ì¡° ì‹œê°ì ìœ¼ë¡œ í™•ì¸

## **5. êµ¬í˜„ í˜„í™©**
| ê¸°ëŠ¥ | êµ¬í˜„ ìƒíƒœ | ë¹„ê³  |
|------|----------|------|
| íŠ¸ë¦¬ êµ¬ì¡° í‘œì‹œ | âœ… ì™„ë£Œ | ì¤‘ì²© ìˆ˜ì¤€ë³„ ì¸ë´íŠ¸ ì ìš© |
| í™•ì¥/ì¶•ì†Œ | âœ… ì™„ë£Œ | ëª¨ë“  ë ˆë²¨ì—ì„œ ê°œë³„ ë…¸ë“œ í™•ì¥/ì¶•ì†Œ ê°€ëŠ¥ |
| ë°ì´í„° íƒ€ì… ì‹œê°í™” | âœ… ì™„ë£Œ | ìƒ‰ìƒ ë° ì•„ì´ì½˜ìœ¼ë¡œ íƒ€ì… êµ¬ë¶„ |
| ë³µì‚¬ ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ë…¸ë“œë³„ ë° ì „ì²´ ë³µì‚¬ ê¸°ëŠ¥ êµ¬í˜„ |
| ê²€ìƒ‰ ê¸°ëŠ¥ | âš ï¸ ë¶€ë¶„ êµ¬í˜„ | ê¸°ë³¸ í‚¤ì›Œë“œ ê²€ìƒ‰ë§Œ êµ¬í˜„, ì •ê·œì‹ ê²€ìƒ‰ ë¯¸êµ¬í˜„ |
| ê²½ë¡œ í‘œì‹œ | âœ… ì™„ë£Œ | ì„ íƒëœ ë…¸ë“œì˜ ì „ì²´ ê²½ë¡œ í‘œì‹œ |
| ì ‘ê·¼ì„± ì§€ì› | âš ï¸ ë¶€ë¶„ êµ¬í˜„ | ê¸°ë³¸ í‚¤ë³´ë“œ íƒìƒ‰ ì§€ì›, ìŠ¤í¬ë¦° ë¦¬ë” ìµœì í™” í•„ìš” |

---

# **ğŸ“Œ Design PRD - JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸ (JSON Viewer)**

## **1. ë””ìì¸ ì»¨ì…‰**
- **ê³„ì¸µ êµ¬ì¡°**: ë“¤ì—¬ì“°ê¸°ì™€ ì—°ê²°ì„ ì„ í†µí•´ ë°ì´í„°ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ í‘œí˜„
- **íƒ€ì… ì‹œê°í™”**: ë‹¤ì–‘í•œ ìƒ‰ìƒê³¼ ì•„ì´ì½˜ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° íƒ€ì…ì„ ì§ê´€ì ìœ¼ë¡œ êµ¬ë¶„
- **ìƒí˜¸ì‘ìš©ì„±**: í™•ì¥/ì¶•ì†Œ, ì„ íƒ, ë³µì‚¬ ë“±ì˜ ìƒí˜¸ì‘ìš©ì„ í†µí•´ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ
- **ê°€ë…ì„±**: ì ì ˆí•œ ê°„ê²©ê³¼ í°íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•œ ë°ì´í„°ë„ ì½ê¸° ì‰½ê²Œ í‘œí˜„
- **ì¼ê´€ì„±**: ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë””ìì¸ ì‹œìŠ¤í…œê³¼ ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ìŠ¤íƒ€ì¼ë§

## **2. ë ˆì´ì•„ì›ƒ ë° êµ¬ì¡°**

```mermaid
graph TD
    A[JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸] --> B[ì»¨íŠ¸ë¡¤ íŒ¨ë„]
    A --> C[ë·°ì–´ ë³¸ì²´]
    
    B --> B1[ê²€ìƒ‰ ì…ë ¥]
    B --> B2[ë³µì‚¬ ë²„íŠ¼]
    B --> B3[ì „ì²´ í™•ì¥/ì¶•ì†Œ ë²„íŠ¼]
    B --> B4[í…Œë§ˆ í† ê¸€]
    
    C --> C1[ë£¨íŠ¸ ë…¸ë“œ]
    C1 --> C2[ìì‹ ë…¸ë“œë“¤]
    C2 --> C3[ë¦¬í”„ ë…¸ë“œ]
    
    C1 -.-> D1[ë…¸ë“œ ì»´í¬ë„ŒíŠ¸]
    C2 -.-> D1
    C3 -.-> D1
    
    D1 --> D2[í™•ì¥/ì¶•ì†Œ ì•„ì´ì½˜]
    D1 --> D3[í‚¤ ë ˆì´ë¸”]
    D1 --> D4[ê°’ í‘œì‹œ]
    D1 --> D5[íƒ€ì… ì•„ì´ì½˜]
    D1 --> D6[ë³µì‚¬ ë²„íŠ¼]
```

## **3. ìƒ‰ìƒ ë° ìŠ¤íƒ€ì¼ ê°€ì´ë“œ**
- **ì»¨í…Œì´ë„ˆ**:
  - ë°°ê²½: í°ìƒ‰(bg-white) ë˜ëŠ” ë‹¤í¬ ëª¨ë“œì—ì„œ ì§„í•œ íšŒìƒ‰(bg-gray-900)
  - í…Œë‘ë¦¬: ì–‡ì€ ê²½ê³„ì„ (border), ë‘¥ê·¼ ëª¨ì„œë¦¬(rounded-md)
  - ì—¬ë°±: ì ì ˆí•œ íŒ¨ë”©(p-4)
  - ìµœëŒ€ ë†’ì´: í•„ìš”ì— ë”°ë¼ ìŠ¤í¬ë¡¤ ê°€ëŠ¥(max-h-[500px] overflow-auto)
  
- **í‚¤/ê°’ í‘œì‹œ**:
  - í‚¤: ì¤‘ê°„ êµµê¸°(font-medium), íŒŒë€ìƒ‰(text-blue-600), ë‹¤í¬ ëª¨ë“œì—ì„œ ì—°í•œ íŒŒë€ìƒ‰(dark:text-blue-400)
  - ë¬¸ìì—´: ë…¹ìƒ‰(text-green-600), ë‹¤í¬ ëª¨ë“œì—ì„œ ì—°í•œ ë…¹ìƒ‰(dark:text-green-400), ë”°ì˜´í‘œë¡œ ê°ì‹¸ê¸°
  - ìˆ«ì: ì£¼í™©ìƒ‰(text-orange-600), ë‹¤í¬ ëª¨ë“œì—ì„œ ì—°í•œ ì£¼í™©ìƒ‰(dark:text-orange-400)
  - ë¶ˆë¦¬ì–¸/null: ë¹¨ê°„ìƒ‰(text-red-600), ë‹¤í¬ ëª¨ë“œì—ì„œ ì—°í•œ ë¹¨ê°„ìƒ‰(dark:text-red-400)
  - ë°°ì—´/ê°ì²´: ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ, í•­ëª© ìˆ˜ í‘œì‹œ(íšŒìƒ‰, text-gray-500)
  
- **ë…¸ë“œ ìŠ¤íƒ€ì¼**:
  - ë“¤ì—¬ì“°ê¸°: ê° ë ˆë²¨ë§ˆë‹¤ ì¼ê´€ëœ ë“¤ì—¬ì“°ê¸°(pl-4)
  - ì—°ê²°ì„ : ì™¼ìª½ í…Œë‘ë¦¬ë¡œ ê³„ì¸µ êµ¬ì¡° í‘œí˜„(border-l-2 border-gray-200)
  - ê°„ê²©: ë…¸ë“œ ê°„ ì ì ˆí•œ ê°„ê²©(my-1)
  - í˜¸ë²„ ìƒíƒœ: ë°°ê²½ìƒ‰ ë³€ê²½(hover:bg-gray-50), ë‹¤í¬ ëª¨ë“œì—ì„œ(dark:hover:bg-gray-800)
  
- **ì•„ì´ì½˜**:
  - í™•ì¥/ì¶•ì†Œ: í™”ì‚´í‘œ ì•„ì´ì½˜(ChevronRight/ChevronDown), í¬ê¸°(w-4 h-4)
  - íƒ€ì… ì•„ì´ì½˜: ê° ë°ì´í„° íƒ€ì…ë³„ ì•„ì´ì½˜(String, Number, Boolean, Array, Object)
  - ë³µì‚¬ ë²„íŠ¼: í´ë¦½ë³´ë“œ ì•„ì´ì½˜(w-4 h-4), íšŒìƒ‰(text-gray-400), í˜¸ë²„ ì‹œ ì§„í•œ íšŒìƒ‰(hover:text-gray-600)
  
- **ì»¨íŠ¸ë¡¤ íŒ¨ë„**:
  - ë°°ê²½: ì—°í•œ íšŒìƒ‰(bg-gray-50), ë‹¤í¬ ëª¨ë“œì—ì„œ ì•½ê°„ ë” ì§„í•œ íšŒìƒ‰(dark:bg-gray-800)
  - í…Œë‘ë¦¬: í•˜ë‹¨ ê²½ê³„ì„ (border-b)
  - íŒ¨ë”©: ì ì ˆí•œ ì—¬ë°±(p-2)
  - ë²„íŠ¼: ì‘ì€ í¬ê¸°(size="sm"), ìœ¤ê³½ì„  ìŠ¤íƒ€ì¼(variant="outline")

## **4. ìƒíƒœ ë° ë°˜ì‘**
- **ë…¸ë“œ í™•ì¥/ì¶•ì†Œ**:
  - í™•ì¥ ìƒíƒœ: ì•„ë˜ ë°©í–¥ í™”ì‚´í‘œ, í•˜ìœ„ ë…¸ë“œ í‘œì‹œ
  - ì¶•ì†Œ ìƒíƒœ: ì˜¤ë¥¸ìª½ ë°©í–¥ í™”ì‚´í‘œ, í•˜ìœ„ ë…¸ë“œ ìˆ¨ê¹€
  - ì „í™˜ ì• ë‹ˆë©”ì´ì…˜: ë¶€ë“œëŸ¬ìš´ ë†’ì´ ì „í™˜(transition-all duration-200)
  
- **ì„ íƒ ìƒíƒœ**:
  - ì„ íƒëœ ë…¸ë“œ: ì—°í•œ íŒŒë€ìƒ‰ ë°°ê²½(bg-blue-50), ë‹¤í¬ ëª¨ë“œì—ì„œ ì§„í•œ íŒŒë€ìƒ‰(dark:bg-blue-900/30)
  - ê²½ë¡œ í•˜ì´ë¼ì´íŠ¸: ì„ íƒëœ ë…¸ë“œê¹Œì§€ì˜ ê²½ë¡œ ìƒì˜ ëª¨ë“  ë…¸ë“œì— ì•½í•œ í•˜ì´ë¼ì´íŠ¸ ì ìš©
  
- **ê²€ìƒ‰ ê²°ê³¼**:
  - ì¼ì¹˜ í•­ëª©: ë…¸ë€ìƒ‰ ë°°ê²½(bg-yellow-100), ë‹¤í¬ ëª¨ë“œì—ì„œ ì–´ë‘ìš´ ë…¸ë€ìƒ‰(dark:bg-yellow-900/30)
  - í˜„ì¬ ì„ íƒëœ ì¼ì¹˜ í•­ëª©: ë” ì§„í•œ ë…¸ë€ìƒ‰ ë°°ê²½(bg-yellow-200)
  
- **ë³µì‚¬ ë™ì‘**:
  - ê¸°ë³¸ ìƒíƒœ: íšŒìƒ‰ ì•„ì´ì½˜
  - í˜¸ë²„ ìƒíƒœ: ì§„í•œ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½
  - ë³µì‚¬ ì™„ë£Œ: ì²´í¬ ì•„ì´ì½˜ìœ¼ë¡œ ì ì‹œ ë³€ê²½ í›„ ì›ë˜ ì•„ì´ì½˜ìœ¼ë¡œ ë³µê·€(ì• ë‹ˆë©”ì´ì…˜)

## **5. ë°˜ì‘í˜• ê³ ë ¤ì‚¬í•­**
- **ëª¨ë°”ì¼ ë·°**: ì‘ì€ í™”ë©´ì—ì„œë„ ê°€ë…ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ì¡°ì •ëœ íŒ¨ë”© ë° í°íŠ¸ í¬ê¸°
- **ìˆ˜í‰ ê³µê°„ ì œí•œ**: í‚¤ê°€ ê¸¸ ê²½ìš° ë§ì¤„ì„í‘œ(...) ì²˜ë¦¬ ë° í˜¸ë²„ ì‹œ ì „ì²´ í…ìŠ¤íŠ¸ í‘œì‹œ
- **ì œì–´ íŒ¨ë„ ì ì‘**: ì‘ì€ í™”ë©´ì—ì„œëŠ” ì œì–´ íŒ¨ë„ì„ ìˆ˜ì§ìœ¼ë¡œ ë°°ì¹˜
- **í„°ì¹˜ ìµœì í™”**: í„°ì¹˜ ê¸°ê¸°ì—ì„œ ë” ë„“ì€ íˆíŠ¸ ì˜ì—­ìœ¼ë¡œ ì‰¬ìš´ í™•ì¥/ì¶•ì†Œ

---

# **ğŸ“Œ Tech PRD - JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸ (JSON Viewer)**

## **1. ê¸°ìˆ  ìŠ¤íƒ**
- **í”„ë ˆì„ì›Œí¬**: Next.js + TypeScript
- **UI ë¼ì´ë¸ŒëŸ¬ë¦¬**: ShadCN UIì˜ ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸(Button, Input, ScrollArea ë“±)
- **ì•„ì´ì½˜**: Lucide React ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ìƒíƒœ ê´€ë¦¬**: React ì»´í¬ë„ŒíŠ¸ ë¡œì»¬ ìƒíƒœ ë° ì»¨í…ìŠ¤íŠ¸ API

## **2. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°**

```typescript
// JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸ props ì¸í„°í˜ì´ìŠ¤
export interface IJSONViewerProps {
  data: any;
  initialExpandLevel?: number; // ì´ˆê¸° í™•ì¥ ìˆ˜ì¤€ (0 = ë£¨íŠ¸ë§Œ)
  sortKeys?: boolean; // í‚¤ ì•ŒíŒŒë²³ìˆœ ì •ë ¬ ì—¬ë¶€
  enableClipboard?: boolean; // ë³µì‚¬ ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€
  theme?: 'light' | 'dark' | 'auto'; // í…Œë§ˆ ì„¤ì •
  rootName?: string; // ë£¨íŠ¸ ë…¸ë“œ ì´ë¦„
  className?: string; // ì¶”ê°€ CSS í´ë˜ìŠ¤
  displayDataTypes?: boolean; // ë°ì´í„° íƒ€ì… í‘œì‹œ ì—¬ë¶€
  displayObjectSize?: boolean; // ê°ì²´/ë°°ì—´ í¬ê¸° í‘œì‹œ ì—¬ë¶€
  onSelect?: (path: string, value: any) => void; // ë…¸ë“œ ì„ íƒ ì½œë°±
}

// JSON ë…¸ë“œ ì»´í¬ë„ŒíŠ¸ props ì¸í„°í˜ì´ìŠ¤
export interface IJSONNodeProps {
  name: string;
  value: any;
  path: string;
  depth: number;
  expanded: boolean;
  onToggleExpand: (path: string) => void;
  onSelect: (path: string, value: any) => void;
  isSelected: boolean;
  displayDataTypes: boolean;
  displayObjectSize: boolean;
  enableClipboard: boolean;
  searchMatch?: boolean;
}
```

## **3. ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„**

### **3.1 JSON êµ¬ì¡°ì˜ ì¬ê·€ì  ë Œë”ë§**
```tsx
export const JSONNode: React.FC<IJSONNodeProps> = ({
  name,
  value,
  path,
  depth,
  expanded,
  onToggleExpand,
  onSelect,
  isSelected,
  displayDataTypes,
  displayObjectSize,
  enableClipboard,
  searchMatch
}) => {
  const valueType = getValueType(value);
  const isExpandable = ['object', 'array'].includes(valueType) && value !== null;
  
  // ê°’ì— ë”°ë¥¸ ì•„ì´ì½˜ ê²°ì •
  const TypeIcon = useMemo(() => {
    switch (valueType) {
      case 'string': return MessageSquare;
      case 'number': return Hash;
      case 'boolean': return ToggleLeft;
      case 'object': return Briefcase;
      case 'array': return List;
      case 'null': return Ban;
      default: return File;
    }
  }, [valueType]);
  
  // ë…¸ë“œ í¬ê¸° í‘œì‹œ (ê°ì²´ ë° ë°°ì—´)
  const sizeDisplay = useMemo(() => {
    if (!displayObjectSize || !isExpandable || value === null) return null;
    
    const count = Object.keys(value).length;
    return (
      <span className="text-xs text-gray-500 ml-1">
        {valueType === 'array' ? `[${count}]` : `{${count}}`}
      </span>
    );
  }, [displayObjectSize, isExpandable, value, valueType]);
  
  // ë…¸ë“œ ì»¨í…ì¸  ë Œë”ë§
  const renderContent = () => {
    if (!isExpandable || !expanded) {
      // ê¸°ë³¸ ê°’ í‘œì‹œ (ë¬¸ìì—´, ìˆ«ì, ë¶ˆë¦¬ì–¸, null ë“±)
      return (
        <span 
          className={`${getValueColor(valueType)} ml-1`}
          onClick={() => onSelect(path, value)}
        >
          {formatValue(value, valueType)}
        </span>
      );
    }
    
    // í™•ì¥ëœ ê°ì²´/ë°°ì—´ í‘œì‹œ
    return (
      <div className="pl-4 border-l-2 border-gray-200 dark:border-gray-700 mt-1">
        {Object.keys(value).map((key) => (
          <JSONNode 
            key={`${path}.${key}`}
            name={key}
            value={value[key]}
            path={`${path}.${key}`}
            depth={depth + 1}
            expanded={/* ... */}
            onToggleExpand={onToggleExpand}
            onSelect={onSelect}
            isSelected={/* ... */}
            displayDataTypes={displayDataTypes}
            displayObjectSize={displayObjectSize}
            enableClipboard={enableClipboard}
            searchMatch={/* ... */}
          />
        ))}
      </div>
    );
  };
  
  return (
    <div 
      className={`my-1 ${isSelected ? 'bg-blue-50 dark:bg-blue-900/30' : ''} 
                 ${searchMatch ? 'bg-yellow-100 dark:bg-yellow-900/30' : ''}`}
    >
      <div className="flex items-center">
        {/* í™•ì¥/ì¶•ì†Œ ì•„ì´ì½˜ */}
        {isExpandable ? (
          <Button 
            variant="ghost" 
            size="sm" 
            className="h-6 w-6 p-0"
            onClick={() => onToggleExpand(path)}
          >
            {expanded ? 
              <ChevronDown className="h-4 w-4" /> : 
              <ChevronRight className="h-4 w-4" />
            }
          </Button>
        ) : (
          <div className="w-6" />
        )}
        
        {/* íƒ€ì… ì•„ì´ì½˜ */}
        {displayDataTypes && (
          <TypeIcon className="h-4 w-4 mr-1 text-gray-500" />
        )}
        
        {/* í‚¤ */}
        <span 
          className="font-medium text-blue-600 dark:text-blue-400"
          onClick={() => onSelect(path, value)}
        >
          {name}
        </span>
        
        {/* ì½œë¡  */}
        <span className="mx-1">:</span>
        
        {/* ì‚¬ì´ì¦ˆ í‘œì‹œ */}
        {sizeDisplay}
        
        {/* ê°’ ë˜ëŠ” í™•ì¥ëœ ì½˜í…ì¸  */}
        {renderContent()}
        
        {/* ë³µì‚¬ ë²„íŠ¼ */}
        {enableClipboard && (
          <CopyButton 
            value={JSON.stringify(value, null, 2)} 
            className="ml-2"
          />
        )}
      </div>
    </div>
  );
};
```

### **3.2 ë©”ì¸ JSON ë·°ì–´ ì»´í¬ë„ŒíŠ¸**
```tsx
export const JSONViewer: React.FC<IJSONViewerProps> = ({
  data,
  initialExpandLevel = 1,
  sortKeys = false,
  enableClipboard = true,
  theme = 'auto',
  rootName = 'root',
  className = '',
  displayDataTypes = true,
  displayObjectSize = true,
  onSelect
}) => {
  // í™•ì¥ ìƒíƒœ ê´€ë¦¬
  const [expandedPaths, setExpandedPaths] = useState<Record<string, boolean>>({});
  const [selectedPath, setSelectedPath] = useState<string>('');
  const [searchTerm, setSearchTerm] = useState<string>('');
  const [searchResults, setSearchResults] = useState<string[]>([]);
  const [currentSearchIndex, setCurrentSearchIndex] = useState<number>(-1);
  
  // ë°ì´í„° ì²˜ë¦¬ (í‚¤ ì •ë ¬ ë“±)
  const processedData = useMemo(() => {
    if (!sortKeys) return data;
    
    const sortObjectKeys = (obj: any): any => {
      if (obj === null || typeof obj !== 'object') return obj;
      
      if (Array.isArray(obj)) {
        return obj.map(sortObjectKeys);
      }
      
      const sorted: Record<string, any> = {};
      Object.keys(obj)
        .sort()
        .forEach(key => {
          sorted[key] = sortObjectKeys(obj[key]);
        });
      
      return sorted;
    };
    
    return sortObjectKeys(data);
  }, [data, sortKeys]);
  
  // ì´ˆê¸° í™•ì¥ ìƒíƒœ ì„¤ì •
  useEffect(() => {
    const paths: Record<string, boolean> = {};
    
    const expandPaths = (obj: any, path: string, depth: number) => {
      if (obj === null || typeof obj !== 'object') return;
      
      paths[path] = depth <= initialExpandLevel;
      
      if (depth <= initialExpandLevel) {
        Object.keys(obj).forEach(key => {
          expandPaths(obj[key], `${path}.${key}`, depth + 1);
        });
      }
    };
    
    expandPaths(processedData, rootName, 0);
    setExpandedPaths(paths);
  }, [processedData, initialExpandLevel, rootName]);
  
  // ë…¸ë“œ í† ê¸€ í•¸ë“¤ëŸ¬
  const handleToggleExpand = useCallback((path: string) => {
    setExpandedPaths(prev => ({
      ...prev,
      [path]: !prev[path]
    }));
  }, []);
  
  // ì„ íƒ í•¸ë“¤ëŸ¬
  const handleSelect = useCallback((path: string, value: any) => {
    setSelectedPath(path);
    if (onSelect) onSelect(path, value);
  }, [onSelect]);
  
  // ê²€ìƒ‰ êµ¬í˜„
  const handleSearch = useCallback((term: string) => {
    if (!term.trim()) {
      setSearchResults([]);
      setCurrentSearchIndex(-1);
      return;
    }
    
    const results: string[] = [];
    
    const searchInObject = (obj: any, path: string) => {
      if (obj === null) return;
      
      if (typeof obj === 'object') {
        Object.keys(obj).forEach(key => {
          const value = obj[key];
          const currentPath = `${path}.${key}`;
          
          // í‚¤ ê²€ìƒ‰
          if (key.toLowerCase().includes(term.toLowerCase())) {
            results.push(currentPath);
          }
          
          // ê°’ ê²€ìƒ‰ (ê¸°ë³¸ íƒ€ì…ë§Œ)
          if (typeof value !== 'object' && 
              String(value).toLowerCase().includes(term.toLowerCase())) {
            results.push(currentPath);
          }
          
          // ì¬ê·€ì ìœ¼ë¡œ ê°ì²´/ë°°ì—´ ê²€ìƒ‰
          if (value !== null && typeof value === 'object') {
            searchInObject(value, currentPath);
          }
        });
      }
    };
    
    searchInObject(processedData, rootName);
    setSearchResults(results);
    setCurrentSearchIndex(results.length > 0 ? 0 : -1);
    
    // ê²€ìƒ‰ ê²°ê³¼ê°€ ìˆì„ ê²½ìš° ê²½ë¡œë¥¼ ìë™ìœ¼ë¡œ í™•ì¥
    if (results.length > 0) {
      const pathsToExpand: Record<string, boolean> = { ...expandedPaths };
      
      results.forEach(resultPath => {
        const parts = resultPath.split('.');
        let currentPath = parts[0];
        
        for (let i = 1; i < parts.length; i++) {
          pathsToExpand[currentPath] = true;
          currentPath += `.${parts[i]}`;
        }
      });
      
      setExpandedPaths(pathsToExpand);
    }
  }, [processedData, rootName, expandedPaths]);
  
  return (
    <div className={`border rounded-md ${className}`}>
      {/* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */}
      <div className="bg-gray-50 dark:bg-gray-800 p-2 border-b flex flex-wrap gap-2 items-center">
        <div className="flex-1 min-w-[200px]">
          <Input
            placeholder="ê²€ìƒ‰..."
            value={searchTerm}
            onChange={(e) => {
              setSearchTerm(e.target.value);
              handleSearch(e.target.value);
            }}
            className="h-8"
          />
        </div>
        
        <div className="flex items-center gap-2">
          <Button
            variant="outline"
            size="sm"
            onClick={() => {
              const allExpanded = Object.values(expandedPaths).every(v => v);
              
              const newPaths: Record<string, boolean> = {};
              Object.keys(expandedPaths).forEach(path => {
                newPaths[path] = !allExpanded;
              });
              
              setExpandedPaths(newPaths);
            }}
          >
            {Object.values(expandedPaths).every(v => v) ? 'ëª¨ë‘ ì ‘ê¸°' : 'ëª¨ë‘ í¼ì¹˜ê¸°'}
          </Button>
          
          {enableClipboard && (
            <CopyButton
              value={JSON.stringify(processedData, null, 2)}
              variant="outline"
              size="sm"
            >
              ì „ì²´ ë³µì‚¬
            </CopyButton>
          )}
        </div>
      </div>
      
      {/* ë·°ì–´ ë³¸ì²´ */}
      <ScrollArea className="p-4 max-h-[500px]">
        <JSONNode
          name={rootName}
          value={processedData}
          path={rootName}
          depth={0}
          expanded={!!expandedPaths[rootName]}
          onToggleExpand={handleToggleExpand}
          onSelect={handleSelect}
          isSelected={selectedPath === rootName}
          displayDataTypes={displayDataTypes}
          displayObjectSize={displayObjectSize}
          enableClipboard={enableClipboard}
          searchMatch={searchResults.includes(rootName)}
        />
      </ScrollArea>
      
      {/* ê²½ë¡œ í‘œì‹œ ë° ê²€ìƒ‰ ê²°ê³¼ ë„¤ë¹„ê²Œì´ì…˜ */}
      {(selectedPath || searchResults.length > 0) && (
        <div className="p-2 border-t bg-gray-50 dark:bg-gray-800 flex justify-between items-center">
          {selectedPath && (
            <div className="text-sm text-gray-600 dark:text-gray-400 truncate">
              ê²½ë¡œ: {selectedPath}
            </div>
          )}
          
          {searchResults.length > 0 && (
            <div className="flex items-center gap-2">
              <span className="text-sm text-gray-600 dark:text-gray-400">
                {currentSearchIndex + 1}/{searchResults.length} ì¼ì¹˜
              </span>
              
              <Button
                variant="outline"
                size="sm"
                onClick={() => {
                  const newIndex = (currentSearchIndex - 1 + searchResults.length) % searchResults.length;
                  setCurrentSearchIndex(newIndex);
                  setSelectedPath(searchResults[newIndex]);
                }}
                disabled={searchResults.length <= 1}
              >
                <ChevronUp className="h-4 w-4" />
              </Button>
              
              <Button
                variant="outline"
                size="sm"
                onClick={() => {
                  const newIndex = (currentSearchIndex + 1) % searchResults.length;
                  setCurrentSearchIndex(newIndex);
                  setSelectedPath(searchResults[newIndex]);
                }}
                disabled={searchResults.length <= 1}
              >
                <ChevronDown className="h-4 w-4" />
              </Button>
            </div>
          )}
        </div>
      )}
    </div>
  );
};
```

### **3.3 ë³µì‚¬ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸**
```tsx
interface CopyButtonProps extends ButtonProps {
  value: string;
  timeout?: number;
  children?: React.ReactNode;
}

export const CopyButton: React.FC<CopyButtonProps> = ({
  value,
  timeout = 2000,
  children,
  ...props
}) => {
  const [copied, setCopied] = useState(false);
  
  const handleCopy = async () => {
    try {
      await navigator.clipboard.writeText(value);
      setCopied(true);
      
      setTimeout(() => {
        setCopied(false);
      }, timeout);
    } catch (error) {
      console.error('Failed to copy', error);
    }
  };
  
  return (
    <Button
      variant={props.variant || "ghost"}
      size={props.size || "sm"}
      onClick={handleCopy}
      {...props}
    >
      {children || (
        <>
          {copied ? 
            <Check className="h-4 w-4" /> : 
            <Clipboard className="h-4 w-4" />}
        </>
      )}
    </Button>
  );
};
```

## **4. ì‚¬ìš© ì˜ˆì‹œ**

```tsx
// ê¸°ë³¸ ì‚¬ìš©ë²•
export function JSONViewerExample() {
  const exampleData = {
    string: "Hello, world!",
    number: 42,
    boolean: true,
    null: null,
    array: [1, 2, 3, "four", { five: 5 }],
    object: {
      nested: {
        deeper: {
          value: "Found me!"
        }
      }
    }
  };
  
  const handleSelect = (path: string, value: any) => {
    console.log(`Selected: ${path}`, value);
  };
  
  return (
    <div className="p-4">
      <h2 className="text-lg font-semibold mb-4">JSON ë·°ì–´ ì˜ˆì‹œ</h2>
      <JSONViewer 
        data={exampleData} 
        initialExpandLevel={2}
        sortKeys={true}
        onSelect={handleSelect}
      />
    </div>
  );
}

// API ì‘ë‹µ ë°ì´í„° í‘œì‹œ ì˜ˆì‹œ
export function APIResponseViewer() {
  const [data, setData] = useState<any>(null);
  const [loading, setLoading] = useState<boolean>(false);
  const [error, setError] = useState<string | null>(null);
  
  const fetchData = async () => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await fetch('https://api.example.com/data');
      const result = await response.json();
      setData(result);
    } catch (err) {
      setError('API í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      console.error(err);
    } finally {
      setLoading(false);
    }
  };
  
  return (
    <div className="p-4">
      <div className="flex gap-4 mb-4">
        <Button onClick={fetchData} disabled={loading}>
          {loading ? 'ë¡œë”© ì¤‘...' : 'API ë°ì´í„° ê°€ì ¸ì˜¤ê¸°'}
        </Button>
      </div>
      
      {error && (
        <Alert variant="destructive" className="mb-4">
          <AlertCircle className="h-4 w-4" />
          <AlertTitle>ì˜¤ë¥˜</AlertTitle>
          <AlertDescription>{error}</AlertDescription>
        </Alert>
      )}
      
      {data && (
        <JSONViewer 
          data={data} 
          rootName="api_response"
          displayObjectSize={true}
        />
      )}
    </div>
  );
}
```

## **5. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­**
- **ê°€ìƒí™”**: ëŒ€ìš©ëŸ‰ JSON ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í‘œì‹œí•˜ê¸° ìœ„í•œ ê°€ìƒí™”(virtualization) ê³ ë ¤
- **ì§€ì—° ë Œë”ë§**: ê¹Šì€ ì¤‘ì²© ë ˆë²¨ì˜ ë°ì´í„°ëŠ” í•„ìš”í•  ë•Œë§Œ ë Œë”ë§í•˜ì—¬ ì´ˆê¸° ë¡œë”© ì„±ëŠ¥ ê°œì„ 
- **ë©”ëª¨ì´ì œì´ì…˜**: ë°ì´í„° ì²˜ë¦¬ ë° ë Œë”ë§ ê²°ê³¼ ìºì‹±ì„ ìœ„í•œ `useMemo`ì™€ `useCallback` í™œìš©
- **í¬ê¸° ì œí•œ**: ë§¤ìš° í° ê°’(í° ë¬¸ìì—´ì´ë‚˜ ë°°ì—´)ì€ ì´ˆê¸°ì— ì¼ë¶€ë§Œ í‘œì‹œí•˜ê³  'ë” ë³´ê¸°' ì˜µì…˜ ì œê³µ
- **ê²€ìƒ‰ ì„±ëŠ¥**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œ íš¨ìœ¨ì ì¸ ê²€ìƒ‰ì„ ìœ„í•œ ì›¹ ì›Œì»¤(Web Worker) ê³ ë ¤

## **6. í™•ì¥ì„±**
- **í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**: ì‚¬ìš©ì ì •ì˜ ë Œë”ëŸ¬, í¬ë§·í„°, í•„í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡° ë„ì… ê°€ëŠ¥
- **ë‹¤ì–‘í•œ ë°ì´í„° í˜•ì‹**: JSON ì™¸ì—ë„ YAML, XML ë“± ë‹¤ë¥¸ ë°ì´í„° í˜•ì‹ ì§€ì› í™•ì¥ ê°€ëŠ¥
- **ë‚´ë³´ë‚´ê¸° ì˜µì…˜**: ë‹¤ì–‘í•œ í˜•ì‹(CSV, Excel ë“±)ìœ¼ë¡œ ë°ì´í„° ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥
- **í¸ì§‘ ê¸°ëŠ¥**: ì½ê¸° ì „ìš© ë·°ì–´ë¥¼ ë„˜ì–´ ë°ì´í„° í¸ì§‘ ê¸°ëŠ¥ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥
- **ì»¤ìŠ¤í…€ í…Œë§ˆ**: ì‚¬ìš©ì ì •ì˜ í…Œë§ˆ ë° ìŠ¤íƒ€ì¼ë§ ì‹œìŠ¤í…œ ë„ì… ê°€ëŠ¥

## **7. ì ‘ê·¼ì„± ê³ ë ¤ì‚¬í•­**
- **í‚¤ë³´ë“œ íƒìƒ‰**: ë°©í–¥í‚¤, íƒ­, ì—”í„° í‚¤ë¥¼ ì‚¬ìš©í•œ ì™„ì „í•œ í‚¤ë³´ë“œ íƒìƒ‰ ì§€ì›
- **ARIA ì†ì„±**: ì ì ˆí•œ ARIA ì—­í•  ë° ì†ì„±ì„ ì ìš©í•˜ì—¬ ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì› ê°•í™”
  - `aria-expanded`: í™•ì¥/ì¶•ì†Œ ìƒíƒœ í‘œì‹œ
  - `aria-selected`: í˜„ì¬ ì„ íƒëœ ë…¸ë“œ í‘œì‹œ
  - ì˜ë¯¸ ìˆëŠ” ë ˆì´ë¸” ë° ì„¤ëª…
- **ì¶©ë¶„í•œ ìƒ‰ìƒ ëŒ€ë¹„**: ëª¨ë“  í…ìŠ¤íŠ¸ì™€ ë°°ê²½ìƒ‰ ê°„ì˜ ì¶©ë¶„í•œ ëŒ€ë¹„ ë¹„ìœ¨ í™•ë³´(WCAG ì¤€ìˆ˜)
- **ì§‘ì¤‘ ê´€ë¦¬**: í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ê°€ ë…¼ë¦¬ì  ìˆœì„œë¡œ ì´ë™í•˜ë„ë¡ ì„¤ê³„
- **í™”ë©´ ì½ê¸° í”„ë¡œê·¸ë¨ ìµœì í™”**: ê³„ì¸µì  êµ¬ì¡°ë¥¼ ìŠ¤í¬ë¦° ë¦¬ë”ê°€ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìµœì í™”
</rewritten_file> 