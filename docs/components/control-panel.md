# **ğŸ“Œ PM PRD - ë°ì´í„° ê´€ë¦¬ íŒ¨ë„ (Data Control Panel)**

## **1. ê°œìš”**
ë°ì´í„° í…Œì´ë¸”ê³¼ ì—°ê³„ë˜ì–´ ì‚¬ìš©ìì˜ í™”í(Currency) ë° ì„ ìˆ˜(Baller) ë°ì´í„°ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” íŒ¨ë„ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. ì´ ì»´í¬ë„ŒíŠ¸ëŠ” Users í˜ì´ì§€ì˜ Select Users ì¹´ë“œ ë‚´ CURRENCY íƒ­ ë° MULTI PLAY > BALLER íƒ­ì— í†µí•©ë˜ì–´ ìˆìœ¼ë©°, ê´€ë¦¬ìê°€ ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## **2. ì£¼ìš” ëª©í‘œ**
- ê²Œì„ ì„œë¹„ìŠ¤ ê´€ë¦¬ìê°€ ì‚¬ìš©ìì˜ í™”í ë° BALLER ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬
- ê¸°ë³¸ì ì¸ CRUD(Create, Read, Update, Delete) ì‘ì—…ì„ ì§ê´€ì ì¸ UIë¡œ ì œê³µ
- ë°ì´í„° ë³€ê²½ ì‘ì—…ì˜ ì•ˆì „ì„±ê³¼ ì‚¬ìš©ì„± ë³´ì¥
- ë‹¤ì¤‘ DB í™˜ê²½ì—ì„œ ì‚¬ìš©ìë³„ ì •ë³´ ê´€ë¦¬ ì§€ì›

## **3. ì£¼ìš” ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**
| ê¸°ëŠ¥ | ìš°ì„ ìˆœìœ„ | ì„¤ëª… |
|------|---------|------|
| CREATE ë²„íŠ¼ | ìƒ | ìƒˆë¡œìš´ í™”í/ì•„ì´í…œ/ì„ ìˆ˜ ìƒì„± ê¸°ëŠ¥ |
| UPDATE ë²„íŠ¼ | ìƒ | ê¸°ì¡´ í™”í/ì•„ì´í…œ/ì„ ìˆ˜ ì •ë³´ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ |
| DELETE ë²„íŠ¼ | ìƒ | í™”í/ì•„ì´í…œ/ì„ ìˆ˜ ì‚­ì œ ê¸°ëŠ¥ |
| ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ | ì¤‘ | ë°ì´í„° í…Œì´ë¸” ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥ |
| ì •ë³´ ë©”ì‹œì§€ | ì¤‘ | ì‚¬ìš©ìì—ê²Œ ì‘ì—… ê°€ì´ë“œ ì œê³µ |
| ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´ í‘œì‹œ | ì¤‘ | í˜„ì¬ ì¡°ì‘ ì¤‘ì¸ DB ì •ë³´ í‘œì‹œ |
| ìƒì„± ëª¨ë‹¬ | ìƒ | ìƒì„¸ ì •ë³´ ì…ë ¥ ëª¨ë‹¬ (Currency/Baller) |

## **4. ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤**
1. **í™”í ê´€ë¦¬**: 
   - ê´€ë¦¬ìê°€ CREATE ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ íŠ¹ì • ì‚¬ìš©ìì—ê²Œ ìƒˆ í™”í/ì•„ì´í…œ ì¶”ê°€
   - ìƒì„± ëª¨ë‹¬ì—ì„œ ì•„ì´í…œ ì¸ë±ìŠ¤ì™€ ìˆ˜ëŸ‰ ì…ë ¥
   - í™”í/ì•„ì´í…œ ìˆ˜ì • ë° ì‚­ì œ
   
2. **BALLER ê´€ë¦¬**:
   - ê´€ë¦¬ìê°€ CREATE ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ íŠ¹ì • ì‚¬ìš©ìì—ê²Œ ìƒˆ BALLER ì¶”ê°€
   - ìƒì„± ëª¨ë‹¬ì—ì„œ BALLER ì¸ë±ìŠ¤, ë ˆë²¨, í›ˆë ¨ í¬ì¸íŠ¸ ë“± ì •ë³´ ì…ë ¥
   - BALLER ì •ë³´ ìˆ˜ì • ë° ì‚­ì œ

3. **ë°ì´í„° ìƒˆë¡œê³ ì¹¨**: ë³€ê²½ í›„ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ìœ¼ë¡œ ìµœì‹  ë°ì´í„° í™•ì¸

## **5. êµ¬í˜„ í˜„í™©**
| ê¸°ëŠ¥ | êµ¬í˜„ ìƒíƒœ | ë¹„ê³  |
|------|----------|------|
| Currency CREATE ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸ì™€ API ì—°ë™ ì™„ë£Œ |
| Currency UPDATE ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ì„ íƒí•œ í•­ëª© ìˆ˜ì • ê°€ëŠ¥ |
| Currency DELETE ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í¬í•¨ |
| BALLER CREATE ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸ êµ¬í˜„ |
| BALLER UPDATE ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ì„ íƒí•œ í•­ëª© ìˆ˜ì • ê¸°ëŠ¥ |
| BALLER DELETE ê¸°ëŠ¥ | âœ… ì™„ë£Œ | ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í¬í•¨ |
| ìƒˆë¡œê³ ì¹¨ | âœ… ì™„ë£Œ | ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ì™€ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ êµ¬í˜„ |
| ì—ëŸ¬ ì²˜ë¦¬ | âœ… ì™„ë£Œ | ì—ëŸ¬ ë©”ì‹œì§€ ë° ê²½ê³  ë‹¤ì´ì–¼ë¡œê·¸ |

---

# **ğŸ“Œ Design PRD - ë°ì´í„° ê´€ë¦¬ íŒ¨ë„ (Data Control Panel)**

## **1. ë””ìì¸ ì»¨ì…‰**
- **ì¼ê´€ì„±**: ShadCN UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©í•œ í†µì¼ëœ ë””ìì¸
- **ëª…í™•ì„±**: ê° ê¸°ëŠ¥ ë²„íŠ¼ì˜ ëª©ì ê³¼ ìƒíƒœê°€ ì‹œê°ì ìœ¼ë¡œ ëª…í™•í•˜ê²Œ êµ¬ë¶„
- **ì»´íŒ©íŠ¸í•¨**: ì‘ì€ ê³µê°„ì—ì„œë„ íš¨ìœ¨ì ìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ì— ì ‘ê·¼ ê°€ëŠ¥í•œ ë ˆì´ì•„ì›ƒ

## **2. ë ˆì´ì•„ì›ƒ ë° êµ¬ì¡°**

```mermaid
graph TD
    A[Data Control Panel] --> B[í—¤ë” ì˜ì—­]
    A --> C[ë²„íŠ¼ ê·¸ë¦¬ë“œ]
    A --> D[ì •ë³´ ë©”ì‹œì§€ ì˜ì—­]
    
    B --> B1[íŒ¨ë„ ì œëª©]
    B --> B2[ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼]
    
    C --> C1[CREATE ë²„íŠ¼]
    C --> C2[UPDATE ë²„íŠ¼]
    C --> C3[DELETE ë²„íŠ¼]
    
    C1 --> E[ìƒì„± ëª¨ë‹¬]
    E --> E1[ë°ì´í„° ìœ í˜•ì— ë”°ë¥¸ ì…ë ¥ í•„ë“œ]
    E --> E2[í™•ì¸/ì·¨ì†Œ ë²„íŠ¼]
```

## **3. ìƒ‰ìƒ ë° ìŠ¤íƒ€ì¼ ê°€ì´ë“œ**
- **íŒ¨ë„ ë°°ê²½**: ë°ì€ íšŒìƒ‰(bg-gray-100)ìœ¼ë¡œ ë°ì´í„° í…Œì´ë¸”ê³¼ êµ¬ë¶„
- **ì œëª© ì˜ì—­**: ë³´ë¼ìƒ‰ ê³„ì—´(text-purple-900)ì˜ í…ìŠ¤íŠ¸ë¡œ ê°•ì¡°
- **ë²„íŠ¼ ìƒ‰ìƒ**:
  - CREATE: ë…¹ìƒ‰(bg-green-500, hover:bg-green-600)
  - UPDATE: íŒŒë€ìƒ‰(bg-blue-500, hover:bg-blue-600)
  - DELETE: ë¹¨ê°„ìƒ‰(bg-red-500, hover:bg-red-600)
  - ìƒˆë¡œê³ ì¹¨: ì—°í•œ ë³´ë¼ìƒ‰(bg-purple-50, border-purple-200)
- **ì •ë³´ ë©”ì‹œì§€**: ì—°í•œ ë³´ë¼ìƒ‰ ë°°ê²½(bg-purple-50)ì— ë³´ë¼ìƒ‰ í…ìŠ¤íŠ¸(text-purple-800)
- **ëª¨ë‹¬ í—¤ë”**: ê·¸ë¼ë°ì´ì…˜ ë°°ê²½(bg-gradient-to-r from-green-600 to-teal-600)
- **ëª¨ë‹¬ ì…ë ¥ í•„ë“œ**: í°ìƒ‰ ë°°ê²½, í¬ì»¤ìŠ¤ ì‹œ ì»¨í…ìŠ¤íŠ¸ì— ë§ëŠ” ìƒ‰ìƒ ê°•ì¡°

## **4. ì»¨í…ìŠ¤íŠ¸ë³„ ëª¨ë‹¬ ë””ìì¸**
- **í™”í ìƒì„± ëª¨ë‹¬**: 
  - ê°„ê²°í•œ ì¸í„°í˜ì´ìŠ¤(ì•„ì´í…œ ì¸ë±ìŠ¤, ìˆ˜ëŸ‰)
  - ê·¸ë¦° ê³„ì—´ ê°•ì¡°ìƒ‰ ì‚¬ìš©
- **BALLER ìƒì„± ëª¨ë‹¬**:
  - í…Œì´ë¸” í˜•ì‹ì˜ ë‹¤ì–‘í•œ ì…ë ¥ í•„ë“œ
  - ì„ íƒ í•„ë“œ(ë“œë¡­ë‹¤ìš´)ì™€ ìˆ«ì ì…ë ¥ í•„ë“œ í˜¼í•©
  - í¼í”Œ ê³„ì—´ ê°•ì¡°ìƒ‰ ì‚¬ìš©

## **5. UI ìƒíƒœ**
- **ê¸°ë³¸ ìƒíƒœ**: ëª¨ë“  ë²„íŠ¼ì´ í™œì„±í™”ëœ ìƒíƒœ
- **ë¡œë”© ìƒíƒœ**: 
  - ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ì— íšŒì „ ì• ë‹ˆë©”ì´ì…˜ ë° í…ìŠ¤íŠ¸ ë³€ê²½
  - ì‘ì—… ì§„í–‰ ì¤‘ ë²„íŠ¼ ë¹„í™œì„±í™” ë° ë¡œë”© ì¸ë””ì¼€ì´í„° í‘œì‹œ
- **ë¹„í™œì„±í™” ìƒíƒœ**: ì‘ì—…ì´ ë¶ˆê°€ëŠ¥í•œ ë²„íŠ¼ì€ ì‹œê°ì ìœ¼ë¡œ ë¹„í™œì„±í™”
- **ì—ëŸ¬ ìƒíƒœ**: ë¹¨ê°„ìƒ‰ ê²½ê³  ì•Œë¦¼ìœ¼ë¡œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

## **6. ë°˜ì‘í˜• ê³ ë ¤ì‚¬í•­**
- ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„ ëª¨ë“  ë²„íŠ¼ì´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì¡°ì •
- ì‘ì€ í™”ë©´ì—ì„œë„ í…ìŠ¤íŠ¸ ê°€ë…ì„± ìœ ì§€
- ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸ëŠ” ìµœëŒ€ ë„ˆë¹„ 900pxë¡œ ì œí•œí•˜ì—¬ ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì— ëŒ€ì‘

---

# **ğŸ“Œ Tech PRD - ë°ì´í„° ê´€ë¦¬ íŒ¨ë„ (Data Control Panel)**

## **1. ê¸°ìˆ  ìŠ¤íƒ**
- **í”„ë ˆì„ì›Œí¬**: Next.js + TypeScript
- **UI ë¼ì´ë¸ŒëŸ¬ë¦¬**: ShadCN UI
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ì•„ì´ì½˜**: Lucide React (`PlusCircle`, `Edit`, `Trash2`, `Database`, `RefreshCw`, `Info`)
- **ìƒíƒœ ê´€ë¦¬**: React useState í›…

## **2. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°**

```typescript
// ì»¨íŠ¸ë¡¤ íŒ¨ë„ ë²„íŠ¼ ì •ì˜ ì¸í„°í˜ì´ìŠ¤
export interface ControlPanelButton {
  id: string;
  label: string;
  icon: React.ReactNode;
  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link';
  bgColorClass?: string;
  onClick: () => void;
  disabled?: boolean;
}

// Data Control Panel ì†ì„± ì •ì˜
export interface DataControlsPanelProps {
  onCreateClick?: () => void;
  onUpdateClick?: () => void;
  onDeleteClick?: () => void;
  onRefreshClick?: () => void;
  className?: string;
  title?: string;
  showRefreshButton?: boolean;
  showInfoMessage?: boolean;
  infoMessage?: string;
  customButtons?: ControlPanelButton[];
}

// í™”í ìƒì„± ëª¨ë‹¬ ì†ì„± ì •ì˜
export interface CreateCurrencyModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  onConfirm: (newCurrency: { excelItemIndex: number; count: number }) => void;
  isCreating: boolean;
}

// BALLER ìƒì„± ëª¨ë‹¬ ì†ì„± ì •ì˜
export interface CreateBallerModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  onConfirm: (newBaller: { 
    excel_baller_index: number; 
    character_level: number;
    training_point: number;
    recruit_process: number;
    character_status: number;
  }) => void;
  isCreating: boolean;
}
```

## **3. ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„**

### **3.1 ë²„íŠ¼ ì•¡ì…˜ í•¸ë“¤ë§**
```typescript
// ê¸°ë³¸ ë²„íŠ¼ êµ¬ì„±
const defaultButtons: ControlPanelButton[] = [
  {
    id: 'create',
    label: 'CREATE',
    icon: <PlusCircle className="h-3.5 w-3.5 mr-1.5" />,
    bgColorClass: 'bg-green-500 hover:bg-green-600 text-white',
    variant: 'default',
    onClick: onCreateClick || (() => console.log('[DataControlsPanel] CREATE ë²„íŠ¼ í´ë¦­ë¨')),
    disabled: false
  },
  // UPDATE ë° DELETE ë²„íŠ¼ ì •ì˜...
];
```

### **3.2 ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥**
```typescript
const handleRefresh = () => {
  setIsRefreshing(true);
  console.log('[DataControlsPanel] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ìš”ì²­');
  
  // ì»¤ìŠ¤í…€ ìƒˆë¡œê³ ì¹¨ í•¸ë“¤ëŸ¬ê°€ ì œê³µëœ ê²½ìš° í˜¸ì¶œ
  if (onRefreshClick) {
    onRefreshClick();
  }
  
  // ìƒˆë¡œê³ ì¹¨ ì‹œë®¬ë ˆì´ì…˜
  setTimeout(() => {
    // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì´ë²¤íŠ¸ ë°œìƒ
    window.dispatchEvent(new CustomEvent('refresh-data'));
    setIsRefreshing(false);
    console.log('[DataControlsPanel] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ');
  }, 1000);
};
```

### **3.3 ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ì—°ë™**
```typescript
// ë°ì´í„° í…Œì´ë¸”ê³¼ ì»¨íŠ¸ë¡¤ íŒ¨ë„ ì—°ë™ - tab-content-renderer.tsxì—ì„œ
<DataTable
  tableName={(contentProps.tableName as string) || 'í…Œì´ë¸”'}
  data={contentProps.data as TableData[] || data}
  // ì»¤ìŠ¤í…€ í¬ë§·í„° ì„¤ì •...
  onSelectionChange={isCurrencyTab ? handleCurrencyRowSelect : undefined}
  // Currency Tab ë˜ëŠ” Baller Tabì¼ ê²½ìš° Control Panelì„ í‘œì‹œí•˜ê³  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì—°ê²°
  showDataControls={contentProps.showDataControls === true || isCurrencyTab}
  onCreateCurrency={isCurrencyTab ? handleCreateCurrency : (contentProps.showDataControls === true && isBallerTab) ? handleCreateBaller : undefined}
  onUpdateCurrency={isCurrencyTab ? handleUpdateCurrency : (contentProps.showDataControls === true && isBallerTab) ? handleUpdateBaller : undefined}
  onDeleteCurrency={isCurrencyTab ? handleDeleteCurrency : (contentProps.showDataControls === true && isBallerTab) ? handleDeleteBaller : undefined}
  // Advanced Data Controls...
/>
```

### **3.4 BALLER ìƒì„± ëª¨ë‹¬ êµ¬í˜„**
```typescript
export function CreateBallerModal({
  open,
  onOpenChange,
  onConfirm,
  isCreating,
}: CreateBallerModalProps) {
  const [excel_baller_index, setExcelBallerIndex] = useState<number | ''>('');
  const [character_level, setCharacterLevel] = useState<number>(1);
  const [training_point, setTrainingPoint] = useState<number>(0);
  const [recruit_process, setRecruitProcess] = useState<number>(0);
  const [character_status, setCharacterStatus] = useState<number>(0);
  const [error, setError] = useState<string | null>(null);

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    
    // í¼ ìœ íš¨ì„± ê²€ì‚¬
    if (excel_baller_index === '') {
      setError('BALLER ì¸ë±ìŠ¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }
    
    // í™•ì¸ í•¨ìˆ˜ í˜¸ì¶œ
    onConfirm({
      excel_baller_index: Number(excel_baller_index),
      character_level,
      training_point,
      recruit_process,
      character_status
    });
  };
  
  // ... ëª¨ë‹¬ UI ë Œë”ë§ ...
}
```

## **4. API ì—°ë™**

ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¼ ë‹¤ë¥¸ APIì™€ ì—°ë™:

```typescript
// í™”í ìƒì„± API ìš”ì²­ ì˜ˆì‹œ
fetch("/api/users/currency", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    employerUid, dbName, excelItemIndex, count
  }),
})
// ...

// BALLER ìƒì„± API ìš”ì²­ ì˜ˆì‹œ 
fetch("/api/users/baller", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    employerUid, dbName, excel_baller_index, character_level, 
    training_point, recruit_process, character_status
  }),
})
// ...
```

## **5. í†µí•© ë° í™•ì¥ì„±**
- í™”íì™€ BALLER ëª¨ë‘ì— ëŒ€ì‘ ê°€ëŠ¥í•œ í†µí•© ë°ì´í„° ê´€ë¦¬ íŒ¨ë„
- ë™ì¼í•œ UIë¡œ ë‹¤ì–‘í•œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‘ë™í•˜ë„ë¡ ì„¤ê³„
- BALLER ê´€ë¦¬ ì‹œ ë” ë³µì¡í•œ í•„ë“œ ì…ë ¥ì„ ìœ„í•œ í™•ì¥ëœ ëª¨ë‹¬ ì§€ì›
- ë°ì´í„° ìœ í˜•ì— ë”°ë¼ ìë™ìœ¼ë¡œ í•„ìš”í•œ ì»¨íŠ¸ë¡¤ê³¼ ëª¨ë‹¬ì„ ì„ íƒí•˜ì—¬ ì—°ê²° 